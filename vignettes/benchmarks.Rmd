---
title: "Benchmarks"
author: "Johan Larsson"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Benchmarks}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  warning = FALSE
)
```

## Diagnostics

In this vignette, we will provide a matrix of benchmarks for the
solvers, penalties, and GLM families in **owl**.

First, we setup a function to plot the results from the fit.

```{r}
set.seed(1)
library(owl)
```

### Gaussian model

```{r, fig.cap = "Objective loss over time for the bodyfat data set (Gaussian response)."}
fit <- owl(bodyfat$x, 
           bodyfat$y,
           family = "gaussian",
           penalty = "slope",
           diagnostics = TRUE,
           sigma = "estimate")
plotDiagnostics(fit)
```

### Binomial model

```{r, fig.cap = "Objective loss over time for the heart data set (binomial response)."}
fit <- owl(heart$x,
           heart$y,
           family = "gaussian",
           penalty = "slope",
           sigma = "estimate",
           diagnostics = TRUE)
plotDiagnostics(fit)
```


### Poisson model

```{r, fig.cap = "objective loss over time for the abalone data set (poisson response)."}
fit <- owl(abalone$x,
           abalone$y,
           family = "poisson",
           penalty = "slope",
           sigma = "estimate",
           diagnostics = TRUE)
plotDiagnostics(fit)
```


