<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Regularized Generalized Linear Models — golem • golem</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Regularized Generalized Linear Models — golem" />

<meta property="og:description" content="This functions fits a generalized linear model (GLM) using efficient
optimization routines suitable to big data problems." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">golem</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/benchmarks.html">Benchmarks</a>
    </li>
    <li>
      <a href="../articles/penalties.html">Regularization penalties in golem</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jolars/golem">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Regularized Generalized Linear Models</h1>
    <small class="dont-index">Source: <a href='https://github.com/jolars/golem/blob/master/R/golem.R'><code>R/golem.R</code></a></small>
    <div class="hidden name"><code>golem.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This functions fits a generalized linear model (GLM) using efficient
optimization routines suitable to big data problems.</p>
    
    </div>

    <pre class="usage"><span class='fu'>golem</span>(<span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"gaussian"</span>, <span class='st'>"binomial"</span>), <span class='kw'>penalty</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"slope"</span>,
  <span class='st'>"group_slope"</span>, <span class='st'>"lasso"</span>), <span class='kw'>solver</span> <span class='kw'>=</span> <span class='st'>"fista"</span>, <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>standardize_features</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>orthogonalize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>sigma</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>fdr</span> <span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>n_lambda</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>lambda_min_ratio</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>tol_rel_gap</span> <span class='kw'>=</span> <span class='fl'>1e-06</span>, <span class='kw'>tol_infeas</span> <span class='kw'>=</span> <span class='fl'>1e-06</span>,
  <span class='kw'>max_passes</span> <span class='kw'>=</span> <span class='fl'>10000</span>, <span class='kw'>diagnostics</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>family</th>
      <td><p>response type. See <strong>Families</strong> for details.</p></td>
    </tr>
    <tr>
      <th>penalty</th>
      <td><p>the regularization penalty to use. See <strong>Penalties</strong> for
details.</p></td>
    </tr>
    <tr>
      <th>solver</th>
      <td><p>the numerical solver to use. See <strong>Solvers</strong> for details.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>whether to fit an intercept</p></td>
    </tr>
    <tr>
      <th>standardize_features</th>
      <td><p>whether to standardize features (predictors)</p></td>
    </tr>
    <tr>
      <th>orthogonalize</th>
      <td><p>whether <code>x</code> should be orthogonalized. Note that
setting this to TRUE when <code>x</code> is sparse will through an error. (only
applies to Group SLOPE)</p></td>
    </tr>
    <tr>
      <th>sigma</th>
      <td><p>noise estimate (only applies to SLOPE and Group SLOPE)</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>either a character vector indicating the method used
to construct the lambda path or</p></td>
    </tr>
    <tr>
      <th>fdr</th>
      <td><p>target false discovery rate (only applies to SLOPE and
Group SLOPE)</p></td>
    </tr>
    <tr>
      <th>n_lambda</th>
      <td><p>length of regularization path (only relevant for lasso)</p></td>
    </tr>
    <tr>
      <th>lambda_min_ratio</th>
      <td><p>smallest value for <code>lambda</code> as a fraction of
\(\lambda_\mathrm{max}\) (only applies to lasso)</p></td>
    </tr>
    <tr>
      <th>tol_rel_gap</th>
      <td><p>relative tolerance threshold for duality gap check</p></td>
    </tr>
    <tr>
      <th>tol_infeas</th>
      <td><p>tolerance threshold for infeasibility</p></td>
    </tr>
    <tr>
      <th>max_passes</th>
      <td><p>maximum number of passes for optimizer</p></td>
    </tr>
    <tr>
      <th>diagnostics</th>
      <td><p>should diagnostics be saved for the model fit (timings,
primal and dual objectives, and infeasibility)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>"Golem"</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The objective for each model is simply the loss function for
each family plus a penalty term.</p>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <dl class='dl-horizontal'>
<dt><code>fit(x, y, groups = NULL, warm_start = TRUE, ...)</code></dt><dd><p>This method fits models specified by <code>golem()</code>.
<dl class='dl-horizontal'>
<dt><code>x</code></dt><dd><p>the feature matrix, which can be either a dense
matrix of the standard <em>matrix</em> class, or a sparse matrix
inheriting from <a href='https://www.rdocumentation.org/packages/Matrix/topics/sparseMatrix'>Matrix::sparseMatrix</a> Data frames will
be converted to matrices internally.</p></dd>
<dt><code>y</code></dt><dd><p>the response. For Gaussian models, this must be numeric; for
binomial models, it can be a factor.</p></dd>
<dt><code>groups</code></dt><dd><p>a vector of integers giving the group membership of each
feature (only applies to Group SLOPE)</p></dd>
<dt><code>warm_start</code></dt><dd><p>whether to use the coefficient estimates from the previous
fit when refitting the model using new data. Provided that
the same penalty (with approximately the same parameters)
id used, setting this to true might lead to
substantial performance boosts.</p></dd>
<dt><code>&#8230;</code></dt><dd><p>arguments that will be used to modify the original model
specification from the call to <code>golem()</code>. Note that arguments
pushed through this interface will modify the model, which
might have unintended consequences.</p></dd>
</dl></p></dd>
<dt><code><a href='https://www.rdocumentation.org/packages/stats/topics/coef'>coef()</a></code></dt><dd><p>Return the coefficients from the model fit (after dropping extraneous
dimensions). If you prefer to always return a three-dimensional array,
call <code>model$coefficients</code> instead.</p></dd>
<dt><code><a href='https://www.rdocumentation.org/packages/stats/topics/predict'>predict(x, type = c("link", "response", "class"))</a></code></dt><dd><p>Return predictions from models fit by <code>golem()</code> based on
new data.
<dl class='dl-horizontal'>
<dt><code>x</code></dt><dd><p>new data to make predictions for.</p></dd>
<dt><code>type</code></dt><dd><p>type of predictions to make. <code>"link"</code> gives the linear
predictors, <code>"response"</code> gives the result of applying the link
function, and <code>"class"</code> gives class predictions.</p></dd>
</dl></p></dd>
</dl>
    
    <h2 class="hasAnchor" id="families"><a class="anchor" href="#families"></a>Families</h2>

    
    <p><strong>Gaussian</strong></p>
<p>The Gaussian model (Ordinary Least Squares) minimizes the following
objective.</p>
<p>$$
  ||\boldsymbol{y} - \boldsymbol{X\beta}||_2^2
$$</p>
<p><strong>Binomial</strong></p>
<p>The binomial model (logistic regression) has the following objective.</p>
<p>$$
  \sum_{i=1}^n \log\left[1+ \exp\left(- y_i\boldsymbol{x}_i'\boldsymbol{\beta} \right) \right]
$$</p>
    
    <h2 class="hasAnchor" id="penalties"><a class="anchor" href="#penalties"></a>Penalties</h2>

    
    <p>Models fit by <code>golem::golem()</code> can be regularized via several
penalties.</p>
<p><strong>Lasso</strong></p>
<p>The Lasso penalizes coefficients using the L1 norm. The penalty
term in the lagrangian form of the loss function is</p>
<p>$$
  \lambda \sum_{j=1}^p |\beta_j|
$$</p>
<p><strong>SLOPE</strong></p>
<p>SLOPE (Sorted L-One Penalized Estimation) is an extension of the Lasso.
Unlike the latter, however, SLOPE uses a non-increasing
sequence of \(\lambda\)---one
for each coefficient. The penalty term looks like</p>
<p>$$
  \sigma \sum_{i=j}^p \lambda_j |\beta|_{(j)}
$$</p>
<p><strong>Group SLOPE</strong></p>
<p>Group SLOPE is an extension of Group LASSO. It applies the following
penalty</p>
<p>$$
  J_\lambda(\beta) = \sum_{j=1}^p \lambda_j |W||\beta||_{I,X}|_{(j)}
$$</p>
    
    <h2 class="hasAnchor" id="solvers"><a class="anchor" href="#solvers"></a>Solvers</h2>

    
    <p>There is currently a single solver available for golem::golem.</p>
<p><strong>FISTA</strong></p>
<p>FISTA (Fast Iterative Shrinking-Tresholding Algorithm) is an extension
of the classical gradient algorithm.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Gaussian response, slope penalty (default) --------------------------------</span>

<span class='co'># Specify the model</span>
<span class='no'>gaussian_model</span> <span class='kw'>&lt;-</span> <span class='fu'>golem</span>(<span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"gaussian"</span>)

<span class='co'># Fit the model</span>
<span class='no'>gaussian_model</span>$<span class='fu'>fit</span>(<span class='no'>abalone</span>$<span class='no'>x</span>, <span class='no'>abalone</span>$<span class='no'>y</span>)

<span class='co'># Get coefficients from the model fit</span>
<span class='no'>gaussian_model</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/coef'>coef</a></span>()</div><div class='output co'>#&gt;    (Intercept)            sex         infant         length       diameter 
#&gt;      4.7343417      0.0000000     -0.8427958      0.0000000      7.1484161 
#&gt;         height   weight_whole weight_shucked weight_viscera   weight_shell 
#&gt;     10.8508506      0.0000000     -8.0753268      0.0000000     16.5077169 </div><div class='input'>
<span class='co'># Binomial response, lasso penalty ------------------------------------------</span>

<span class='no'>binomial_model</span> <span class='kw'>&lt;-</span> <span class='fu'>golem</span>(<span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>, <span class='kw'>penalty</span> <span class='kw'>=</span> <span class='st'>"lasso"</span>)

<span class='no'>binomial_model</span>$<span class='fu'>fit</span>(<span class='no'>heart</span>$<span class='no'>x</span>, <span class='no'>heart</span>$<span class='no'>y</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#methods">Methods</a></li>

      <li><a href="#families">Families</a></li>

      <li><a href="#penalties">Penalties</a></li>

      <li><a href="#solvers">Solvers</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Johan Larsson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

