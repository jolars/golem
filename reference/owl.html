<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generalized Linear Models Penalized with the SLOPE (OWL) Norm — owl • owl</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generalized Linear Models Penalized with the SLOPE (OWL) Norm — owl" />
<meta property="og:description" content="SLOPE (Sorted L-One Penalized Estimation) is an extension of the Lasso.
Unlike the latter, however, SLOPE uses a non-increasing
sequence of \(\lambda\)---one
for each coefficient. The penalty term looks like" />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">owl</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/benchmarks.html">Benchmarks</a>
    </li>
    <li>
      <a href="../articles/penalties.html">Regularization penalties in owl</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jolars/owl">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generalized Linear Models Penalized with the SLOPE (OWL) Norm</h1>
    <small class="dont-index">Source: <a href='https://github.com/jolars/owl/blob/master/R/owl.R'><code>R/owl.R</code></a></small>
    <div class="hidden name"><code>owl.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>SLOPE (Sorted L-One Penalized Estimation) is an extension of the Lasso.
Unlike the latter, however, SLOPE uses a non-increasing
sequence of \(\lambda\)---one
for each coefficient. The penalty term looks like</p>
    </div>

    <pre class="usage"><span class='fu'>owl</span>(
  <span class='no'>x</span>,
  <span class='no'>y</span>,
  <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gaussian"</span>, <span class='st'>"binomial"</span>, <span class='st'>"multinomial"</span>, <span class='st'>"poisson"</span>),
  <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>standardize_features</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>sigma</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gaussian"</span>, <span class='st'>"bhq"</span>, <span class='st'>"oscar"</span>),
  <span class='kw'>lambda_min_ratio</span> <span class='kw'>=</span> <span class='kw'>if</span> (<span class='no'>n</span> <span class='kw'>&lt;</span> <span class='no'>p</span>) <span class='fl'>0.01</span> <span class='kw'>else</span> <span class='fl'>1e-04</span>,
  <span class='kw'>n_sigma</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>q</span> <span class='kw'>=</span> <span class='fl'>0.1</span> * <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span>(<span class='fl'>1</span>, <span class='no'>n</span>/<span class='no'>p</span>),
  <span class='kw'>screening</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>tol_dev_change</span> <span class='kw'>=</span> <span class='fl'>1e-05</span>,
  <span class='kw'>tol_dev_ratio</span> <span class='kw'>=</span> <span class='fl'>0.995</span>,
  <span class='kw'>max_variables</span> <span class='kw'>=</span> <span class='no'>n</span> * <span class='no'>m</span>,
  <span class='kw'>max_passes</span> <span class='kw'>=</span> <span class='fl'>1e+06</span>,
  <span class='kw'>tol_rel_gap</span> <span class='kw'>=</span> <span class='fl'>1e-05</span>,
  <span class='kw'>tol_infeas</span> <span class='kw'>=</span> <span class='fl'>1e-04</span>,
  <span class='kw'>diagnostics</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbosity</span> <span class='kw'>=</span> <span class='fl'>0</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>the feature matrix, which can be either a dense
matrix of the standard <em>matrix</em> class, or a sparse matrix
inheriting from <a href='https://rdrr.io/pkg/Matrix/man/sparseMatrix.html'>Matrix::sparseMatrix</a> Data frames will
be converted to matrices internally.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>the response. For Gaussian models this must be numeric; for
binomial models, it can be a factor.</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>response type. See <strong>Families</strong> for details.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>whether to fit an intercept</p></td>
    </tr>
    <tr>
      <th>standardize_features</th>
      <td><p>whether to standardize features (predictors)</p></td>
    </tr>
    <tr>
      <th>sigma</th>
      <td><p>scale of lambda sequence</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>either a character vector indicating the method used
to construct the lambda path or a vector with length equal to the number
of coefficients in the model</p></td>
    </tr>
    <tr>
      <th>lambda_min_ratio</th>
      <td><p>smallest value for <code>lambda</code> as a fraction of
<code>lambda_max</code></p></td>
    </tr>
    <tr>
      <th>n_sigma</th>
      <td><p>length of regularization path</p></td>
    </tr>
    <tr>
      <th>q</th>
      <td><p>shape of lambda sequence</p></td>
    </tr>
    <tr>
      <th>screening</th>
      <td><p>whether the strong rule for SLOPE be used to screen
variables for inclusion</p></td>
    </tr>
    <tr>
      <th>tol_dev_change</th>
      <td><p>the regularization path is stopped if the
fractional change in deviance falls below this value. Note that this is
automatically set to 0 if a sigma is manually entered</p></td>
    </tr>
    <tr>
      <th>tol_dev_ratio</th>
      <td><p>the regularization path is stopped if the
deviance ratio
\(1 - \mathrm{deviance}/\mathrm{(null-deviance)}\)
is above this threshold</p></td>
    </tr>
    <tr>
      <th>max_variables</th>
      <td><p>criterion for stoping the path in terms of the
maximum number of unique, nonzero
coefficients in absolute value in model</p></td>
    </tr>
    <tr>
      <th>max_passes</th>
      <td><p>maximum number of passes for optimizer</p></td>
    </tr>
    <tr>
      <th>tol_rel_gap</th>
      <td><p>stopping criterion for the duality gap</p></td>
    </tr>
    <tr>
      <th>tol_infeas</th>
      <td><p>stopping criterion for the level of infeasibility</p></td>
    </tr>
    <tr>
      <th>diagnostics</th>
      <td><p>should diagnostics be saved for the model fit (timings,
primal and dual objectives, and infeasibility)</p></td>
    </tr>
    <tr>
      <th>verbosity</th>
      <td><p>level of verbosity for displaying output from the
program. Setting this to 1 displays information on the path level,
while setting it to 2 displays information also from inside the solver.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>"Owl"</code> with the following slots:</p>
<dt>coefficients</dt><dd><p>a three-dimensional array of the coefficients from the
model fit, including the intercept if it was fit.
There is one row for each coefficient, one column
for each target (dependent variable), and
one slice for each penalty.</p></dd>
<dt>nonzeros</dt><dd><p>a three-dimensional boolean array indicating whether a
coefficient was zero or not</p></dd>
<dt>lambda</dt><dd><p>the lambda vector that when multiplied by a value in <code>sigma</code>
gives the penalty vector at that point along the regularization
path</p></dd>
<dt>sigma</dt><dd><p>the vector of sigma, indicating the scale of the lambda vector</p></dd>
<dt>class_names</dt><dd><p>a character vector giving the names of the classes for binomial and
multinomial families</p></dd>
<dt>passes</dt><dd><p>the number of passes the solver took at each path</p></dd>
<dt>violations</dt><dd><p>the number of violations of the screening rule</p></dd>
<dt>active_sets</dt><dd><p>a list where each element indicates the indices of the
coefficients that were active at that point in the regularization path</p></dd>
<dt>diagnostics</dt><dd><p>a <code>data.frame</code> of objective values for the primal and dual problems, as
well as a measure of the infeasibility, time, and iteration. Only
available if <code>diagnostics = TRUE</code> in the call to <code>owl()</code>.</p></dd>
<dt>call</dt><dd><p>the call used for fitting the model</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>$$
  \sigma \sum_{i=j}^p \lambda_j |\beta|_{(j)}
$$</p>
<p>The objective for each model is simply the loss function for
each family plus a penalty term.</p>
    <h2 class="hasAnchor" id="families"><a class="anchor" href="#families"></a>Families</h2>

    


<p><strong>Gaussian</strong></p>
<p>The Gaussian model (Ordinary Least Squares) minimizes the following
objective.</p>
<p>$$
  ||y - X\beta||_2^2
$$</p>
<p><strong>Binomial</strong></p>
<p>The binomial model (logistic regression) has the following objective.</p>
<p>$$
  \sum_{i=1}^n \log\left(1+ \exp\left(- y_i \left(x_i^T\beta + \alpha \right) \right) \right)
$$</p>
<p><strong>Poisson</strong></p>
<p>In poisson regression, we use the following objective.</p>
<p>$$
  -\sum_{i=1}^n \left(y_i\left(x_i^T\beta + \alpha\right) - \exp\left(x_i^T\beta + \alpha\right)\right)
$$</p>
<p><strong>Multinomial</strong></p>
<p>In multinomial regression, we use the following objective.</p>
<p>$$
  -\sum_{i=1}^n\left( \sum_{k=1}^m y_{ik}(x_i^T\beta_k + \alpha_k)
                     - \log\sum_{k=1}^m \exp(x_i^T\beta_k + \alpha_k) \right)
$$</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='plot.Owl.html'>plot.Owl()</a></code>, <code><a href='plotDiagnostics.html'>plotDiagnostics()</a></code>, <code><a href='score.html'>score()</a></code>, <code><a href='predict.Owl.html'>predict.Owl()</a></code>,
<code><a href='trainOwl.html'>trainOwl()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Gaussian response</span>

<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>owl</span>(<span class='no'>bodyfat</span>$<span class='no'>x</span>, <span class='no'>bodyfat</span>$<span class='no'>y</span>)

<span class='co'># Binomial response</span>

<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>owl</span>(<span class='no'>heart</span>$<span class='no'>x</span>, <span class='no'>heart</span>$<span class='no'>y</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>)

<span class='co'># Poisson response</span>

<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>owl</span>(<span class='no'>abalone</span>$<span class='no'>x</span>, <span class='no'>abalone</span>$<span class='no'>y</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"poisson"</span>)

<span class='co'># Multinomial response</span>

<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>owl</span>(<span class='no'>wine</span>$<span class='no'>x</span>, <span class='no'>wine</span>$<span class='no'>y</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"multinomial"</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#families">Families</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Johan Larsson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


